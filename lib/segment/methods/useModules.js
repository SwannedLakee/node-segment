"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function _isIgnoreModules(me, mod, ...argv) {
    return (me.options && me.options.disableModules && me.options.disableModules.includes(mod));
}
exports._isIgnoreModules = _isIgnoreModules;
function _warnIgnoreModules(mod) {
    console.warn(`can't use this mod, because it got disable: ${mod}`);
}
exports._warnIgnoreModules = _warnIgnoreModules;
function useModules(me, mod, ...argv) {
    if (_isIgnoreModules(me, mod, ...argv)) {
        _warnIgnoreModules(mod);
    }
    else {
        // 初始化并注册模块
        let c = mod.init(me, ...argv);
        if (typeof c !== 'undefined') {
            mod = c;
        }
        me.modules[mod.type].push(mod);
    }
    return me;
}
exports.useModules = useModules;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlTW9kdWxlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInVzZU1vZHVsZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFNQSxTQUFnQixnQkFBZ0IsQ0FBa0MsRUFBSyxFQUFFLEdBQXdDLEVBQUUsR0FBRyxJQUFJO0lBRXpILE9BQU8sQ0FBQyxFQUFFLENBQUMsT0FBTyxJQUFJLEVBQUUsQ0FBQyxPQUFPLENBQUMsY0FBYyxJQUFJLEVBQUUsQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFBO0FBQzVGLENBQUM7QUFIRCw0Q0FHQztBQUVELFNBQWdCLGtCQUFrQixDQUFDLEdBQUc7SUFFckMsT0FBTyxDQUFDLElBQUksQ0FBQywrQ0FBK0MsR0FBRyxFQUFFLENBQUMsQ0FBQTtBQUNuRSxDQUFDO0FBSEQsZ0RBR0M7QUFFRCxTQUFnQixVQUFVLENBQWtDLEVBQUssRUFBRSxHQUF3QyxFQUFFLEdBQUcsSUFBSTtJQUVuSCxJQUFJLGdCQUFnQixDQUFDLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsRUFDdEM7UUFDQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQTtLQUN2QjtTQUVEO1FBQ0MsV0FBVztRQUNYLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUM7UUFFOUIsSUFBSSxPQUFPLENBQUMsS0FBSyxXQUFXLEVBQzVCO1lBQ0MsR0FBRyxHQUFHLENBQUMsQ0FBQztTQUNSO1FBRUQsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQy9CO0lBRUQsT0FBTyxFQUFFLENBQUM7QUFDWCxDQUFDO0FBcEJELGdDQW9CQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElPcHRpb25zU2VnbWVudCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCBTZWdtZW50Q29yZSBmcm9tICcuLi9jb3JlJztcbmltcG9ydCBTZWdtZW50IGZyb20gJy4uLy4uL1NlZ21lbnQnO1xuaW1wb3J0IHsgSVN1Yk9wdGltaXplciB9IGZyb20gJy4uLy4uL21vZC9PcHRpbWl6ZXInO1xuaW1wb3J0IHsgSVN1YlRva2VuaXplciB9IGZyb20gJy4uLy4uL21vZC9Ub2tlbml6ZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gX2lzSWdub3JlTW9kdWxlczxUIGV4dGVuZHMgU2VnbWVudENvcmUgfCBTZWdtZW50PihtZTogVCwgbW9kOiBJU3ViT3B0aW1pemVyIHwgSVN1YlRva2VuaXplciB8IGFueSwgLi4uYXJndilcbntcblx0cmV0dXJuIChtZS5vcHRpb25zICYmIG1lLm9wdGlvbnMuZGlzYWJsZU1vZHVsZXMgJiYgbWUub3B0aW9ucy5kaXNhYmxlTW9kdWxlcy5pbmNsdWRlcyhtb2QpKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX3dhcm5JZ25vcmVNb2R1bGVzKG1vZClcbntcblx0Y29uc29sZS53YXJuKGBjYW4ndCB1c2UgdGhpcyBtb2QsIGJlY2F1c2UgaXQgZ290IGRpc2FibGU6ICR7bW9kfWApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VNb2R1bGVzPFQgZXh0ZW5kcyBTZWdtZW50Q29yZSB8IFNlZ21lbnQ+KG1lOiBULCBtb2Q6IElTdWJPcHRpbWl6ZXIgfCBJU3ViVG9rZW5pemVyIHwgYW55LCAuLi5hcmd2KVxue1xuXHRpZiAoX2lzSWdub3JlTW9kdWxlcyhtZSwgbW9kLCAuLi5hcmd2KSlcblx0e1xuXHRcdF93YXJuSWdub3JlTW9kdWxlcyhtb2QpXG5cdH1cblx0ZWxzZVxuXHR7XG5cdFx0Ly8g5Yid5aeL5YyW5bm25rOo5YaM5qih5Z2XXG5cdFx0bGV0IGMgPSBtb2QuaW5pdChtZSwgLi4uYXJndik7XG5cblx0XHRpZiAodHlwZW9mIGMgIT09ICd1bmRlZmluZWQnKVxuXHRcdHtcblx0XHRcdG1vZCA9IGM7XG5cdFx0fVxuXG5cdFx0bWUubW9kdWxlc1ttb2QudHlwZV0ucHVzaChtb2QpO1xuXHR9XG5cblx0cmV0dXJuIG1lO1xufVxuIl19